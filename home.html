<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Foodie Express - Home</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #6A0DAD, #FFA500);
      color: #FFFFFF;
    }

    header {
      text-align: center;
      background-color: #6A0DAD;
      padding: 20px;
      position: relative;
    }

    header h1 {
      margin: 0;
      color: #FFFFFF;
    }

    nav {
      background-color: #F2F2F2;
      padding: 10px 20px;
      display: flex;
      justify-content: flex-end;
      gap: 15px;
    }

    nav a {
      color: #6A0DAD;
      text-decoration: none;
      font-weight: bold;
      transition: color 0.3s;
    }

    nav a:hover {
      color: #FFA500;
    }

    /* Slider Section */
    .image-slider-section {
      position: relative;
      height: 100vh;
      overflow: hidden;
    }

    .slider-container {
      position: relative;
      width: 100%;
      height: 100%;
    }

    .slider-container video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      position: absolute;
      top: 0;
      left: 0;
      z-index: 0;
    }

    .slider-container::after {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1;
    }

    .slider-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      color: #fff;
      z-index: 2;
    }

    .slider-text h1 {
      font-size: 48px;
      margin-bottom: 10px;
      text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.7);
    }

    .slider-text p {
      font-size: 20px;
      margin-bottom: 20px;
      text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.7);
    }

    .slider-text .btn {
      display: inline-block;
      padding: 12px 24px;
      background-color: #ffb700;
      color: black;
      font-size: 18px;
      font-weight: bold;
      border-radius: 8px;
      text-decoration: none;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .slider-text .btn:hover {
      background-color: #e0a800;
      transform: translateY(-2px);
    }

    button.prev,
    button.next {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background-color: rgba(0, 0, 0, 0.5);
      color: white;
      border: none;
      padding: 10px 16px;
      font-size: 24px;
      border-radius: 50%;
      cursor: pointer;
      z-index: 3;
    }

    button.prev {
      left: 10px;
    }

    button.next {
      right: 10px;
    }

    button.prev:hover,
    button.next:hover {
      background-color: rgba(0, 0, 0, 0.8);
    }

    /* Profile Sidebar */
    .profile-icon {
      position: absolute;
      top: 10px;
      right: 20px;
      z-index: 999;
      cursor: pointer;
    }

    .profile-icon img {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background-color: white;
      padding: 3px;
    }

    .profile-sidebar {
      position: fixed;
      top: 0;
      right: -300px;
      width: 250px;
      height: 100%;
      background: linear-gradient(135deg, #6A0DAD, #FFA500);
      padding: 20px;
      box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
      transition: right 0.3s ease;
      color: white;
      z-index: 998;
    }

    .profile-sidebar.active {
      right: 0;
    }

    .profile-sidebar h2 {
      margin-top: 0;
    }

    .profile-sidebar button {
      margin-top: 20px;
      padding: 10px;
      background-color: purple;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .cart {
      position: absolute;
      top: 20px;
      left: 20px;
      background: linear-gradient(135deg, #6A0DAD, #FFA500);
      color: #000;
      padding: 10px 15px;
      border: none;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
      font-weight: bold;
      cursor: pointer;
      z-index: 1000;
    }

    
/* ---------------- General ---------------- */
html {
  scroll-behavior: smooth;
}

/* --------------Forms Section ---------------*/
.form-section {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  padding: 40px 20px;
  }

form {
  background-color: white;
  padding: 25px;
  margin: 20px;
  border-radius: 12px;
  box-shadow: 0 0 15px rgba(0,0,0,0.08);
  max-width: 450px;
  flex: 1 1 400px;
}

.order-form {
  border-top: 6px solid #4B0082;
}

.book-table-form {
  border-top: 6px solid #FFA500;
}

form h3 {
  margin-bottom: 20px;
  color: #4B0082;
}

form input,
form textarea {
  width: 100%;
  padding: 12px;
  margin-bottom: 15px;
  border: 1px solid #ccc;
  border-radius: 8px;
  font-size: 1rem;
 
}

/* ------------Table Structure --------------- */
.table-structure {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 10px;
}

.table-seat {
  background-color: #e4d0ff;
  padding: 12px;
  border-radius: 8px;
  text-align: center;
  font-weight: 500;
  transition: background 0.3s ease;
  cursor: pointer;
}

.table-seat:hover {
  background-color: #4B0082;
  color: white;
}
.form-btn-wrapper {
  display: flex;
  justify-content: center; /* center horizontally */
  margin-top: 20px;
}

form button {
  padding: 10px 25px;
  background-color: darkgreen;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 1rem;
  transition: background-color 0.3s;
}

form button:hover {
  background-color: green;
}
.table-seat.selected {
      background-color: #4B0082;
      color: white;
    }
    .section {
  padding: 30px;
  text-align: center;
  margin-bottom: 60px; /* Adds space below the entire section */
}

/* ---------------- Sections ---------------- */
.section {
  padding: 30px;
  text-align: center;
  margin-bottom: 60px;
  background: linear-gradient(135deg, rgba(106, 13, 173, 0.7), rgba(255, 165, 0, 0.7)),
              url('/images/indianfood/thalapkatti.jpg') no-repeat center center;
  background-size: cover;
}

.section-title {
  font-size: 28px;
  margin-bottom: 20px;
  border-bottom: 2px solid #FFA500;
  display: inline-block;
}

.option-row {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 30px;
}

.option-box {
  width: 300px;
  height: 200px;
  border-radius: 15px;
  background-size: cover;
  background-position: center;
  position: relative;
  overflow: hidden;
  cursor: pointer;
  transition: transform 0.3s, box-shadow 0.3s;
}

.option-box:hover {
  transform: scale(1.05);
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
}

.option-title {
  position: absolute;
  bottom: 0;
  width: 100%;
  background: rgba(0, 0, 0, 0.5);
  color: white;
  padding: 10px;
  text-align: center;
  font-size: 20px;
}



/* ---------------- Footer ---------------- */
footer {
  background-color: #6A0DAD;
  color: white;
  text-align: center;
  padding: 10px 0;
  font-size: 14px;
  position: relative;
  z-index: 5;
}

.sidebar {
  position: fixed;
  top: 0;
  right: -300px;
  width: 250px;
  height: 100%;
  background-color: #fff;
  border-left: 2px solid #ccc;
  padding: 20px;
  box-shadow: -2px 0 5px rgba(0,0,0,0.1);
  transition: right 0.3s ease-in-out;
  z-index: 1000;
}
.sidebar.open {
  right: 0;
}
.sidebar button {
  background: none;
  border: none;
  font-size: 20px;
  cursor: pointer;
  float: right;
}

  </style>
</head>
<body>

  <!-- Header with profile icon -->
  <header>
    <h1>Foodie Express</h1>
    <!-- Profile Icon -->
    <div class="profile-icon" onclick="toggleSidebar()">
      <img src="/images/logo.png" alt="Profile" />
    </div>
  </header>

  <!-- Cart -->
  <button class="cart" onclick="window.location.href='cart.html'">
    üõí Cart: <span id="cart-count">0</span> items | Total: ‚Çπ<span id="cart-total">0</span>
</button>

    

  <!-- Sidebar -->
  <div class="profile-sidebar" id="profileSidebar">
    <h2>üë§ Profile</h2>
    
    <!-- ‚úÖ Add welcome message -->
    <p id="profile-welcome"><strong>Welcome:</strong> <span id="username">Guest</span></p>
    
    <p><strong>Email:</strong> <span id="profile-email">Loading...</span></p>
    <p><strong>Location:</strong> <span id="profile-location">Chennai, Tamil Nadu</span></p>
    
    <button onclick="toggleSidebar()">Close</button>
  </div>
  
 

  <!-- Nav -->
  <nav>
    <a href="home.html">Home</a>
    <a href="about.html">About</a>
    <a href="contact.html">Contact</a>
    <a href="logout.html">Logout</a>
    <a href="wishlist.html">Wishlist</a>
  </nav>

  <!-- Video Slider Section -->
  <section class="image-slider-section">
    <div class="slider-container">
      <video id="slider-video" autoplay muted loop>
        <source id="video-source" src="/video/Black Yellow Dark Bold Modern Salad Promo video.mp4" type="video/mp4">
        Your browser does not support the video tag.
      </video>
      <div class="overlay"></div>
      <button class="prev" onclick="prevVideo()">‚ùÆ</button>
      <button class="next" onclick="nextVideo()">‚ùØ</button>
      <div class="slider-text">
        <h1>Welcome to Our Foodie Express</h1>
        <p>Discover the best foods for every occasion</p>
        <a href="#main-section" class="btn">Shop Now</a>
      </div>
    </div>
  </section>


  <!-- Section 2 - Forms -->
<section class="form-section">
  <!-- Order Online Form -->
  <form class="order-form">
    <h3>Order Online</h3>
    <input type="text" placeholder="Name" required />
    <input type="tel" placeholder="Phone Number" required />
    <input type="email" placeholder="Email" required />
    <input type="text" placeholder="Address" name="address" required>
    <div class="form-btn-wrapper">
      <button type="submit">Order</button>
    </div>
  </form>

  <!-- Book a Table Form -->
  <form class="book-table-form">
    <h3>Book a Table</h3>
    <input type="text" placeholder="Name" required />
    <input type="tel" placeholder="Phone Number" required />
    <input type="email" placeholder="Email" required />
    <input type="date" placeholder="Reservation Date" id="reservationDate" required />
    <input type="number" placeholder="Number of People" id="numPeople" min="1" required />
   
    <div class="table-structure">
      <!-- Sample 10 tables -->
      <div class="table-seat">T1<br>Inside</div>
      <div class="table-seat">T2<br>Inside</div>
      <div class="table-seat">T3<br>Inside</div>
      <div class="table-seat">T4<br>Outside</div>
      <div class="table-seat">T5<br>Outside</div>
      <div class="table-seat">T6<br>Inside</div>
      <div class="table-seat">T7<br>Outside</div>
      <div class="table-seat">T8<br>Inside</div>
      <div class="table-seat">T9<br>Outside</div>
      <div class="table-seat">T10<br>Inside</div>
    </div>
    <div class="form-btn-wrapper">
      <button type="submit">Book</button>
    </div>
  </form>
</section>

  <!-- Main Section -->
  <div class="section" id="main-section">
    <h2 class="section-title">Choose Your Delight</h2>
    <div class="option-row">
      <a href="indian.html">
        <div class="option-box" style="background-image: url('images/indianfood/dosa.jpg');">
          <div class="option-title">Indian</div>
        </div>
      </a>
      <a href="dessert.html">
        <div class="option-box" style="background-image: url('images/indian-desserts.jpg');">
          <div class="option-title">Desserts</div>
        </div>
      </a>
      <a href="italian.html">
        <div class="option-box" style="background-image: url('images/italian/green\ pasta.jpg');">
          <div class="option-title">Italian</div>
        </div>
      </a>
      <a href="snacks.html">
        <div class="option-box" style="background-image: url('images/snacks/panipuri.jpg');">
          <div class="option-title">Snacks</div>
        </div>
      </a>
      <a href="bevarages.html">
        <div class="option-box" style="background-image: url('images/juices/pomojuice.jpg');">
          <div class="option-title">Bevarages</div>
        </div>
      </a>
    </div>
  </div>


  <script>
// ========================= üë§ PROFILE SIDEBAR =========================

// Sidebar toggle
function toggleSidebar() {
      document.getElementById('profileSidebar').classList.toggle('active');
    }

    // Load profile info from localStorage
    function loadUserProfile() {
      const user = JSON.parse(localStorage.getItem('user'));
      if (user) {
        document.getElementById("profile-welcome").innerText = `Welcome: ${user.name}`;
        document.getElementById("profile-email").innerText = user.email;
        document.getElementById("profile-location").innerText = user.location || "Chennai, Tamil Nadu";
      } else {
        document.getElementById("profile-welcome").innerText = "Welcome: Guest";
        document.getElementById("profile-email").innerText = "Not logged in";
        document.getElementById("profile-location").innerText = "Unknown";
      }
    }
    // Load profile info when the page is loaded
document.addEventListener("DOMContentLoaded", loadUserProfile);

// ========================= CART =========================

// Update Cart Data
  // Update Cart Data
  const updateCart = () => {
  const cartItems = JSON.parse(localStorage.getItem('cart')) || [];
  const cartCount = cartItems.length;
  const cartTotal = cartItems.reduce((total, item) => total + item.price, 0).toFixed(2);
  document.getElementById('cart-count').textContent = cartCount;
  document.getElementById('cart-total').textContent = cartTotal;
};

// Call the function to initially populate the cart details
updateCart();
    // ========================= TABLE BOOKING =========================
    
   // Highlight table on click
document.querySelectorAll(".table-seat").forEach(seat => {
  seat.addEventListener("click", () => {
    document.querySelectorAll(".table-seat").forEach(s => s.classList.remove("selected"));
    seat.classList.add("selected");
  });
});
    // Order form submission handler
document.querySelector('.order-form').addEventListener('submit', function(e) {
    e.preventDefault(); // Prevent form submission
    submitOrderForm();
});

// Table booking form submission handler
document.querySelector('.book-table-form').addEventListener('submit', function(e) {
    e.preventDefault(); // Prevent form submission
    submitBookingForm();
});

    // ========================= VIDEO SLIDER =========================
    
    const videoPaths = [
        "/video/Black Yellow Dark Bold Modern Salad Promo video (1).mp4",
        "/video/Black Yellow Dark Bold Modern Salad Promo video (2).mp4",
        "/video/Black Yellow Dark Bold Modern Salad Promo video.mp4"
    ];
    
    let currentVideoIndex = 0;
    const videoElement = document.getElementById("slider-video");
    
    function loadVideo(index) {
        if (videoElement) {
            videoElement.src = videoPaths[index];
            videoElement.load();
            videoElement.play();
        }
    }
    
    function nextVideo() {
        currentVideoIndex = (currentVideoIndex + 1) % videoPaths.length;
        loadVideo(currentVideoIndex);
    }
    
    function prevVideo() {
        currentVideoIndex = (currentVideoIndex - 1 + videoPaths.length) % videoPaths.length;
        loadVideo(currentVideoIndex);
    }
    
    // ========================= ORDER =========================
    
    // ========================= BOOKING TABLE =========================
    
  // ORDER FORM SUBMIT
  document.querySelector(".order-form").addEventListener("submit", function(e) {
    e.preventDefault();
    const form = e.target;

    const orderData = {
      name: form.elements[0].value,
      phone: form.elements[1].value,
      email: form.elements[2].value,
      address: form.elements[3].value
    };

    fetch("http://localhost:8080/api/order", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(orderData)
    })
    .then(response => {
      if (response.ok) {
        alert("Order placed successfully!");
        form.reset();
      } else {
        alert("Failed to place order.");
      }
    });
  });

  document.querySelector(".book-table-form").addEventListener("submit", function (e) {
  e.preventDefault();
  const form = e.target;

  const selectedSeat = document.querySelector(".table-seat.selected");
  const tableNumber = selectedSeat ? selectedSeat.textContent.split("\n")[0] : null;

  if (!tableNumber) {
    alert("Please select a table.");
    return;
  }

  const bookingData = {
    name: form.elements[0].value,
    phone: form.elements[1].value,
    email: form.elements[2].value,
    reservationDate: form.elements[3].value,
    numberOfPeople: form.elements[4].value,
    tableNumber: tableNumber
  };

  fetch("http://localhost:8080/api/book-table", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(bookingData)
  })
    .then((response) => {
      if (response.ok) {
        alert("Table booked successfully!");
        form.reset();
        document.querySelectorAll(".table-seat").forEach(seat => seat.classList.remove("selected"));
      } else {
        alert("Booking failed.");
      }
    });
});

    // ========================= SCROLL TO MAIN SECTION =========================
    
    // Scroll to main-section when Shop Now is clicked
    document.addEventListener("DOMContentLoaded", () => {
        updateCart();
        
        // Scroll to main-section when Shop Now is clicked
        document.querySelector(".btn")?.addEventListener("click", e => {
            e.preventDefault();
            document.getElementById("main-section")?.scrollIntoView({ behavior: "smooth" });
        });
    
        // Load initial video
        loadVideo(currentVideoIndex);
    });
    </script>
    
  <script src="JS/script.js"></script>

  <footer>
    &copy; 2025 Foodie Express. All rights reserved.
  </footer>

</body>
</html>
